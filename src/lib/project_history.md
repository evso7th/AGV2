# Журнал Проекта "AuraGroove"

Этот документ является "живой спецификацией" и содержит историю ключевых решений и изменений, принятых в ходе разработки. Он служит "внешней памятью" для отслеживания эволюции проекта.

---

### ЗАПИСЬ: 2024-07-31

**ПРОБЛЕМА:**
После серии рефакторингов и исправлений, звуковые слои `harmony` и `melody` перестали воспроизводиться, несмотря на то, что в блюпринтах их проигрывание было разрешено.

**ДИАГНОСТИКА:**
С помощью серии диагностических `console.log` в `FractalMusicEngine`, `ambient.worker.ts` и `audio-engine-context.tsx` было установлено, что проблема возникает на самом первом этапе — генерации. `FractalMusicEngine` не создавал события для этих партий.

**ПРИЧИНА:**
В ходе одного из предыдущих рефакторингов были непреднамеренно удалены строки кода, отвечающие за вызов функций `createAccompanimentAxiom` (для `harmony`) и `createMelodyMotif` (для `melody`) внутри метода `generateOneBar` в `fractal-music-engine.ts`. Движок "знал", что нужно играть, но команда "сочинить" не отдавалась.

**РЕШЕНИЕ:**
Восстановлены недостающие вызовы функций в `src/lib/fractal-music-engine.ts` с добавлением подробных комментариев, объясняющих назначение каждого блока кода, чтобы предотвратить подобные случайные удаления в будущем.

---
