# Журнал Проекта "AuraGroove"

---

### ЗАПИСЬ: 2024-12-04 (План №186: "The Great LFO Purge")

**ПРОБЛЕМА:**
Приложение начинало хрипеть через 1-2 минуты игры. Диагностика выявила накопление "зомби-LFO" — осцилляторов эффектов (Phaser, Chorus, Leslie), которые продолжали работать после удаления инструмента.

**РЕШЕНИЕ:**
1. **FX Life Cycle**: В фабрики эффектов (`makeChorus`, `makePhaser`) добавлен метод `stop()`, гарантирующий остановку внутренних осцилляторов.
2. **Purge Protocol**: Метод `api.disconnect()` всех инструментов V2 теперь принудительно останавливает все внутренние генераторы перед уничтожением экземпляра.
3. **Registry Refinement**: Глобальный реестр голосов (GVR) дополнен принудительным обнулением ссылок для облегчения работы Garbage Collector.

**ВЫВОД:**
CPU-утечки ликвидированы. Стабильность системы при длительных сессиях и частых регенерациях восстановлена.

---

### ЗАПИСЬ: 2024-12-04 (План №185: "FX Pipeline Restoration")

**ПРОБЛЕМА:**
В фабрике инструментов `instrument-factory.ts` отсутствовала реализация функции `makePhaser`, что приводило к ошибке `makePhaser is not defined` при инициализации гитарных инструментов.

**РЕШЕНИЕ:**
Восстановлена функция `makePhaser`. Реализация использует 4-стадийный All-pass фильтр с LFO-модуляцией частоты и поддержкой динамического микса. Это восстанавливает работоспособность гитарного движка.

**ВЫВОД:**
Целостность аудио-пайплайна восстановлена. Ошибки инициализации гитары устранены.

---
... (предыдущая история)