# Журнал Проекта "AuraGroove"

---

### ЗАПИСЬ: 2024-12-04 (План №192: "Steel Guitar Seal")

**ПРОБЛЕМА:**
Накопительная утечка ресурсов в гитарном конвейере («минуту нормально, потом хрипит»).

**ПРИЧИНА:**
1. Неявная очистка транзиентов и осцилляторов в `buildGuitarEngine`.
2. Использование `setTimeout` в `noteOff`, который замораживается при выключении экрана.
3. Отсутствие принудительной остановки LFO эффектов при смене инструментов.

**РЕШЕНИЕ:**
1. **Passive Cleanup Implementation**: В гитарный движок внедрена очистка исключительно через событие `onended`.
2. **LFO Purge**: Фейзер и Хорус теперь останавливают свои осцилляторы при `disconnect()`.
3. **GVR Diagnostic Active**: Включены детальные логи глобального реестра голосов (GVR) для контроля освобождения памяти в реальном времени.

**ВЫВОД:**
Гитарный конвейер герметизирован. Система ресурсной безопасности "Steel Foundation" распространена на все инструменты.

---

### ЗАПИСЬ: 2024-12-04 (План №191: "Non-Finite AudioParam & FX Signature Sync")

**ПРОБЛЕМА:**
Ошибка `TypeError: Failed to set the 'value' property on 'AudioParam': The provided float value is non-finite` в `makePhaser`. Вызвана несоответствием сигнатур функций эффектов (передача числа вместо объекта).

**РЕШЕНИЕ:**
1. **Signature Normalization**: Функции `makePhaser`, `makeChorus`, `makeDelay` теперь поддерживают как объекты опций, так и одиночные значения `mix`.
2. **Steel Foundation Baseline**: Сохранена архитектура пассивной очистки `onended` и Wavetable-синтеза органа для стабильности в фоне.
3. **LFO Purge**: Интегрирован механизм `stop()` для FX-осцилляторов, предотвращающий утечки CPU.
4. **Safety Guards**: Добавлены проверки `isFinite` перед записью в любые `AudioParam`.

**ВЫВОД:**
Критическая ошибка инициализации гитарного движка устранена. Ресурсная стабильность сохранена.

---
