# Журнал Проекта "AuraGroove"

---

### ЗАПИСЬ: 2024-12-04 (План №81: "Динамический Мутагенез")

**ПРОБЛЕМА:**
Гитарист играл однообразные соло при первом запуске сюиты. Мелодии не имели классического музыкального развития (секвенций, вариаций).

**ПРИЧИНА:**
Жесткая привязка планов соло к частям сюиты и отсутствие механизмов контекстного развития фраз.

**РЕШЕНИЕ:**
1.  **Semantic Selection**: Переход от жестких планов к семантическому выбору ликов по тегам (`major`/`minor`/`turnaround`). Теперь каждый такт выбирается из пула подходящих фраз.
2.  **Musical Development**:
    *   **Sequence**: Внедрена логика повторения фразы со сдвигом по ступеням лада (Секвенция).
    *   **Variation**: Лики теперь подвергаются инверсии, ритмическому варьированию и добавлению орнаментов (`grace notes`).
3.  **Engine Jitter**: Добавлена принудительная встряска рандомайзера при инициализации, гарантирующая уникальность первой же ноты каждой сессии.

**РЕЗУЛЬТАТ:**
Гитарист обрел «музыкальный интеллект». Соло стали непредсказуемыми, развивающимися и тематически связными. Проблема повторений при первом запуске полностью устранена.

---

### ЗАПИСЬ: 2024-12-04 (План №80: "Смирение Струн")

**ПРОБЛЕМА:**
Гитарные партии (Shine On и Muff Lead) доминировали в миксе, перекрывая другие инструменты и создавая избыточное давление.

**ПРИЧИНА:**
Высокий базовый гейн в гитарном конвейере фабрики инструментов.

**РЕШЕНИЕ:**
1.  **Глобальное ослабление**: Базовый гейн `sumNode` в гитарном движке уменьшен в 4 раза (с 0.7 до 0.175).
2.  **Коррекция атаки**: Громкость транзиента щипка (`pickG`) также пропорционально снижена.

**РЕЗУЛЬТАТ:**
Достигнут гармоничный баланс в миксе. Гитара теперь звучит прозрачно, оставляя пространство для органов и баса, сохраняя при этом все нюансы физического моделирования.

---

### ЗАПИСЬ: 2024-12-04: запускаем гитарный конвейер фабрики.

**РЕШЕНИЕ:**
1.  **Guitar V2 Architecture**: Внедрена полноценная цепочка эффектов (Pickup LPF, Compressor, Muff/Soft Shaper, Phaser, Dual Delays) для гитарных пресетов.
2.  **Independent Note Routing**: Каждая нота гитары теперь имеет независимый узел `sum` и `voiceGain`, что исключает "грязь" и фазовые искажения при наложении звуков.
3.  **Organ Preservation**: Движок органов Hammond сохранен в проверенном состоянии "Золотого Стандарта" V2 сFoldback-оптимизацией.

---

### ЗАПИСЬ: 2024-12-04 (План №74: "Тематическая Память")

**ПРОБЛЕМА:**
Музыкальный поток часто казался однообразным или хаотичным из-за отсутствия повторяющихся тем. Генерация была "сиюминутной", без возврата к удачным идеям.

**ПРИЧИНА:**
`FractalMusicEngine` не имел механизмов долговременной памяти внутри одной сессии.

**РЕШЕНИЕ:**
1.  **система Hooks**: Внедрена `hookLibrary` для записи удачных мелодических фраз в первой половине сюиты.
2.  **Reprise Logic**: Реализован механизм "Репризы" во второй половине сюиты. Движок с вероятностью 25% заменяет новую генерацию на ранее записанный "крючок".
3.  **Smart Transposition**: Крючки автоматически транспонируются под текущий аккорд, сохраняя интервальную структуру темы.
4.  **Emotional Intensity**: При повторе крючка громкость (`weight`) немного увеличивается, создавая эффект узнавания и развития.

**РЕЗУЛЬТАТ:**
Композиции обрели тематическое единство. Слушатель теперь может узнать "главную тему" сюиты, которая возвращается в кульминации и финале.

---

### ЗАПИСЬ: 2024-12-04 (ОТКАТ: "Возврат к Канону V2")

**ДЕЙСТВИЕ:**
Откат Rolling back to version **d7d6b38e**. План №42 реализован. «Великая Органная Пятерка» теперь в строю.

**ПРИЧИНА:**
Эксперимент со Sound Engine V3 (физическое моделирование) привел к деградации музыкальности («расстроенное педальное пианино»). Избыточная архитектурная сложность разрушила вязкий и благородный характер Hammond-органов.

**РЕШЕНИЕ:**
Принято решение развивать систему в рамках Sound Engine V2 («Золотой Стандарт»). Любые тембральные улучшения будут производиться исключительно через параметризацию существующих пресетов без изменения физики синтеза.

---
