/**
 * #ЗАЧЕМ: Этот файл содержит оцифрованную библиотеку блюзовых гитарных соло,
 *          состоящую из "ликов" (коротких фраз) и "планов" (последовательностей ликов).
 *          Он служит "партитурой" для FractalMusicEngine при генерации сложных соло.
 * #ЧТО: Экспортирует BLUES_SOLO_LICKS (20 "ликов") и BLUES_SOLO_PLANS (20 планов по 36 тактов).
 * #СВЯЗИ: Используется в `fractal-music-engine.ts` для генерации соло.
 */

import type { BluesSoloPhrase } from '@/types/fractal';

// #ИСПРАВЛЕНО (ПЛАН 905): Добавлены недостающие поля 'd' (длительность).
// #ОБНОВЛЕНО (ПЛАН 926): Расширен список ликов L13-L20.
// #ИСПРАВЛЕНО (ПЛАН 929): Добавлена пропущенная запятая после L19.
// #ИСПРАВЛЕНО (ПЛАН 1717): Добавлены теги для семантического выбора ликов.
// Структура события: { t: tick, d: duration_in_ticks, deg: degree, tech?: technique }
export const BLUES_SOLO_LICKS: Record<string, { phrase: BluesSoloPhrase; tags: string[] }> = {
  L01: { phrase: [{t:0,d:3,deg:'b3',tech:'bn'}, {t:3,d:3,deg:'R'}, {t:6,d:6,deg:'5',tech:'vb'}], tags: ['minor', 'cry', 'slow-bend'] },
  L02: { phrase: [{t:0,d:3,deg:'b3',tech:'gr'}, {t:3,d:3,deg:'3'}, {t:6,d:6,deg:'5',tech:'vb'}], tags: ['major', 'turn', 'classic'] },
  L03: { phrase: [{t:0,d:2,deg:'R'}, {t:2,d:2,deg:'4'}, {t:4,d:2,deg:'#4'}, {t:6,d:2,deg:'5'}, {t:8,d:2,deg:'6'}, {t:10,d:2,deg:'5'}], tags: ['major', 'boogie', 'answer'] },
  L04: { phrase: [{t:0,d:6,deg:'b3',tech:'vb'}, {t:6,d:6,deg:'11'}], tags: ['minor', 'pad', 'drone'] },
  L05: { phrase: [{t:0,d:3,deg:'b2',tech:'gr'}, {t:3,d:3,deg:'R'}, {t:6,d:6,deg:'b7'}], tags: ['minor', 'V-chord', 'tension'] },
  L06: { phrase: [{t:0,d:4,deg:'9'}, {t:4,d:8,deg:'R',tech:'vb'}], tags: ['major', 'dreamy', 'lift'] },
  L07: { phrase: [{t:0,d:6,deg:'5',tech:'ds'}, {t:6,d:6,deg:'R'}], tags: ['major', 'double-stop', 'cry'] },
  L08: { phrase: [{t:8,d:2,deg:'2'}, {t:10,d:2,deg:'b3'}, {t:0,d:3,deg:'3',tech:'h'}], tags: ['major', 'pickup', 'intro'] },
  L09: { phrase: [{t:0,d:2,deg:'2'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'4'},{t:8,d:2,deg:'#4'},{t:10,d:2,deg:'5'}], tags: ['turnaround', 'chromatic', 'classic'] },
  L10: { phrase: [{t:0,d:6,deg:'R'},{t:6,d:6,deg:'R+8',tech:'vb'}], tags: ['major', 'minor', 'octave-jump', 'sigh'] },
  L11: { phrase: [{t:0,d:3,deg:'R'},{t:3,d:3,deg:'3'},{t:6,d:6,deg:'6',tech:'vb'}], tags: ['major', 'IV-chord', 'voicing'] },
  L12: { phrase: [{t:0,d:12,deg:'5',tech:'bn'}], tags: ['stop-time', 'scream', 'high-sustain'] },
  L13: { phrase: [{t:0,d:2,deg:'R'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'5'},{t:8,d:2,deg:'6'},{t:10,d:2,deg:'5'}], tags: ['major', 'run', 'boogie'] },
  L14: { phrase: [{t:0,d:3,deg:'4',tech:'sl'},{t:3,d:3,deg:'#4'},{t:6,d:6,deg:'6',tech:'vb'}], tags: ['major', 'slide', 'lift'] },
  L15: { phrase: [{t:0,d:3,deg:'b3',tech:'bn'},{t:3,d:3,deg:'2'},{t:6,d:6,deg:'R',tech:'vb'}], tags: ['minor', 'cry', 'quick'] },
  L16: { phrase: [{t:0,d:2,deg:'b2'},{t:2,d:2,deg:'R'},{t:4,d:2,deg:'b7'},{t:6,d:6,deg:'5'}], tags: ['minor', 'V-chord', 'chromatic'] },
  L17: { phrase: [{t:0,d:3,deg:'5',tech:'ds'},{t:3,d:3,deg:'6',tech:'ds'},{t:6,d:6,deg:'R'}], tags: ['major', 'double-stop', 'stabs'] },
  L18: { phrase: [{t:0,d:4,deg:'11'},{t:4,d:8,deg:'9'}], tags: ['minor', 'IV-chord', 'color'] },
  L19: { phrase: [{t:0,d:2,deg:'R'},{t:2,d:2,deg:'b7'},{t:4,d:2,deg:'6'},{t:6,d:2,deg:'b6'},{t:8,d:2,deg:'5'},{t:10,d:2,deg:'#4'}], tags: ['turnaround', 'chromatic', 'descending'] },
  L20: { phrase: [{t:0,d:2,deg:'3'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'2'},{t:8,d:2,deg:'R'},{t:10,d:2,deg:'b7'}], tags: ['major', 'chuck-berry', 'fast-run'] },
  L21_FINGERSTYLE: { 
    phrase: [{ t: 0, d: 12, deg: 'R', tech: 'F_TRAVIS' }],
    tags: ['fingerstyle', 'rhythm', 'outro'] 
  },
};
// 20 планов соло, каждый на 36 тактов (3 хора по 12 тактов)
export const BLUES_SOLO_PLANS: Record<string, { choruses: string[][] }> = {
  "S01": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L14', 'L11', 'L06', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S02": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S03": {
    choruses: [
      ['L06', 'L11', 'L13', 'L14', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S04": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S05": {
    choruses: [
      ['L02', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S06": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S07": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S08": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L09']
    ]
  },
  "S09": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L19'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S10": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S11": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S12": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S13": {
    choruses: [
      ['L17', 'L11', 'L13', 'L06', 'L11', 'L14', 'L13', 'L10', 'L20', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L20', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L20', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S14": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L20', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L20', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L20', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S15": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S16": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L09']
    ]
  },
  "S17": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L19'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S18": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S19": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L19'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S20": {
    choruses: [
      ['L02', 'L11', 'L20', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "WINTER_OUTRO_MELODY": {
    choruses: [
      ['L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 
       'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 
       'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE', 'L21_FINGERSTYLE']
    ]
  }
};
