/**
 * #ЗАЧЕМ: Этот файл содержит оцифрованную библиотеку блюзовых гитарных соло,
 *          состоящую из "ликов" (коротких фраз) и "планов" (последовательностей ликов).
 *          Он служит "партитурой" для FractalMusicEngine при генерации сложных соло.
 * #ЧТО: Экспортирует BLUES_SOLO_LICKS (20 "ликов") и BLUES_SOLO_PLANS (20 планов по 36 тактов).
 * #СВЯЗИ: Используется в `fractal-music-engine.ts` для генерации соло.
 */

import type { BluesSoloPhrase } from '@/types/fractal';

// #ИСПРАВЛЕНО (ПЛАН 905): Добавлены недостающие поля 'd' (длительность).
// #ОБНОВЛЕНО (ПЛАН 926): Расширен список ликов L13-L20.
// Структура события: { t: tick, d: duration_in_ticks, deg: degree, tech?: technique }
export const BLUES_SOLO_LICKS: Record<string, BluesSoloPhrase> = {
  L01: [{t:0,d:3,deg:'b3',tech:'bn'}, {t:3,d:3,deg:'R'}, {t:6,d:6,deg:'5',tech:'vb'}],
  L02: [{t:0,d:3,deg:'b3',tech:'gr'}, {t:3,d:3,deg:'3'}, {t:6,d:6,deg:'5',tech:'vb'}],
  L03: [{t:0,d:2,deg:'R'}, {t:2,d:2,deg:'4'}, {t:4,d:2,deg:'#4'}, {t:6,d:2,deg:'5'}, {t:8,d:2,deg:'6'}, {t:10,d:2,deg:'5'}],
  L04: [{t:0,d:6,deg:'b3',tech:'vb'}, {t:6,d:6,deg:'11'}],
  L05: [{t:0,d:3,deg:'b2',tech:'gr'}, {t:3,d:3,deg:'R'}, {t:6,d:6,deg:'b7'}],
  L06: [{t:0,d:4,deg:'9'}, {t:4,d:8,deg:'R',tech:'vb'}],
  L07: [{t:0,d:6,deg:'5',tech:'ds'}, {t:6,d:6,deg:'R'}], // ds(3-b7) would need more complex logic, simplified for now
  L08: [{t:8,d:2,deg:'2'}, {t:10,d:2,deg:'b3'}, {t:0,d:3,deg:'3',tech:'h'}], // Note: this lick starts on tick 8
  L09: [{t:0,d:2,deg:'2'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'4'},{t:8,d:2,deg:'#4'},{t:10,d:2,deg:'5'}],
  L10: [{t:0,d:6,deg:'R'},{t:6,d:6,deg:'R+8',tech:'vb'}],
  L11: [{t:0,d:3,deg:'R'},{t:3,d:3,deg:'3'},{t:6,d:6,deg:'6',tech:'vb'}],
  L12: [{t:0,d:12,deg:'5',tech:'bn'}], // Stop-time scream
  L13: [{t:0,d:2,deg:'R'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'5'},{t:8,d:2,deg:'6'},{t:10,d:2,deg:'5'}],
  L14: [{t:0,d:3,deg:'4',tech:'sl'},{t:3,d:3,deg:'#4'},{t:6,d:6,deg:'6',tech:'vb'}],
  L15: [{t:0,d:3,deg:'b3',tech:'bn'},{t:3,d:3,deg:'2'},{t:6,d:6,deg:'R',tech:'vb'}],
  L16: [{t:0,d:2,deg:'b2'},{t:2,d:2,deg:'R'},{t:4,d:2,deg:'b7'},{t:6,d:6,deg:'5'}],
  L17: [{t:0,d:3,deg:'5',tech:'ds'},{t:3,d:3,deg:'6',tech:'ds'},{t:6,d:6,deg:'R'}],
  L18: [{t:0,d:4,deg:'11'},{t:4,d:8,deg:'9'}],
  L19: [{t:0,d:2,deg:'R'},{t:2,d:2,deg:'b7'},{t:4,d:2,deg:'6'},{t:6,d:2,deg:'b6'},{t:8,d:2,deg:'5'},{t:10,d:2,'#4'}],
  L20: [{t:0,d:2,deg:'3'},{t:2,d:2,deg:'b3'},{t:4,d:2,deg:'3'},{t:6,d:2,deg:'2'},{t:8,d:2,deg:'R'},{t:10,d:2,deg:'b7'}],
  L13_Sabbath_Scream: [{ t: 0, d: 12, deg: 'b7', tech: 'vb' }], // A single, long, wailing note
};

// 20 планов соло, каждый на 36 тактов (3 хора по 12 тактов)
export const BLUES_SOLO_PLANS: Record<string, { choruses: string[][] }> = {
  "S01": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L14', 'L11', 'L06', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S02": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S03": {
    choruses: [
      ['L06', 'L11', 'L13', 'L14', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S04": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S05": {
    choruses: [
      ['L02', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S06": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S07": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S08": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L09']
    ]
  },
  "S09": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L19'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S10": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S11": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L13', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S12": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S13": {
    choruses: [
      ['L17', 'L11', 'L13', 'L06', 'L11', 'L14', 'L13', 'L10', 'L20', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L20', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L20', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S14": {
    choruses: [
      ['L13', 'L11', 'L17', 'L06', 'L11', 'L14', 'L20', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L20', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L20', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S15": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S16": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L16', 'L01', 'L09']
    ]
  },
  "S17": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L19'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L12', 'L12', 'L01', 'L09'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S18": {
    choruses: [
      ['L02', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L19'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L09'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  },
  "S19": {
    choruses: [
      ['L01', 'L11', 'L03', 'L04', 'L11', 'L18', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09'],
      ['L15', 'L11', 'L03', 'L04', 'L11', 'L04', 'L03', 'L10', 'L12', 'L12', 'L01', 'L19'],
      ['L10', 'L11', 'L03', 'L01', 'L11', 'L04', 'L03', 'L10', 'L18', 'L05', 'L01', 'L09']
    ]
  },
  "S20": {
    choruses: [
      ['L02', 'L11', 'L20', 'L06', 'L11', 'L14', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09'],
      ['L08', 'L11', 'L13', 'L06', 'L11', 'L14', 'L17', 'L10', 'L12', 'L12', 'L02', 'L19'],
      ['L10', 'L11', 'L13', 'L02', 'L11', 'L06', 'L17', 'L10', 'L13', 'L11', 'L02', 'L09']
    ]
  }
};
